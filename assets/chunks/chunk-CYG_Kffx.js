import{p as u,e as c,V as f,c as m,a as y}from"./chunk-Defr39CA.js";import{d as k,c as V,x as b,D as n,ac as g,aH as S,s as h,M as E,q as v,o as i,f as B,b as I,a as U,m as $,U as A,I as C}from"./chunk-Isw0PHqr.js";import{u as P}from"./chunk-BvwBNQlH.js";const w={...u,type:{type:String,default:"textarea"},rows:{type:Number,default:4},label:{type:String,default:"回填地址"},placeholder:{type:String,default:"上传文件后, 将文件下载地址粘贴到此处"},readonly:{type:Boolean,default:void 0},uploadUrl:{type:String,default:"https://pan.baidu.com/disk/main#/index?category=all"},referenceUrl:{type:String,default:"https://pan.baidu.com/disk/main#/index?category=all"},referenceOnly:{type:Boolean,default:!1},referenceLabel:{type:String,default:"参考地址"},modelValue:{type:String,default:""}},L={...c},O=k({name:"VkfInputLink",components:{VkfInput:f},emits:L,props:w,setup(e,{emit:l}){const o=m(e),s=y(l),p=P(e),d=t=>()=>n(h,{onClick:()=>window.open(t),disabled:!t},()=>n(g,{class:"vkf-input-link-icon",size:16},()=>n(S))),a=V(()=>{const t=[{pattern:/^(http|https):\/\/([\w.]+\/?)\S*$/,message:"请输入正确的链接地址"}];return Array.isArray(e.rules)&&t.push(...e.rules),b(e.rules)&&t.push(e.rules),t});return{coreProps:o,coreEmits:s,createAppendEl:d,rules:a,readonly:p}}}),N={class:"vkf-form-item vkf-input-link"};function H(e,l,o,s,p,d){const a=v("VkfInput");return i(),B("div",N,[I(a,{label:e.referenceLabel,disabled:!0,modelValue:e.referenceUrl??e.uploadUrl,inputSlots:{append:e.createAppendEl(e.referenceUrl??e.uploadUrl)}},null,8,["label","modelValue","inputSlots"]),e.referenceOnly?C("",!0):(i(),U(a,$({key:0},e.coreProps,A(e.coreEmits),{rules:e.rules,readonly:e.readonly,type:e.readonly?"text":e.type,inputSlots:{append:e.readonly?e.createAppendEl(e.modelValue):void 0}}),null,16,["rules","readonly","type","inputSlots"]))])}const r=E(O,[["render",H]]);r.install=e=>{e.component(r.name,r)};export{r as V};
