import{E,d as S,a$ as I,B as _,C as i,H as h,b9 as A,aq as F}from"./chunk-Isw0PHqr.js";const C={source:{type:Array,default:()=>[]},templateInstances:{type:Object,default:void 0},k:{type:Array,default:()=>[]}},g=Symbol("templateInstances"),T=Symbol("parentTemplateInstancesSymbol"),j=(e,n={})=>{let s="";s+=n.prefix||"";for(const a in e)e[a].forEach(p=>{s+=p.message+";"});s+=n.suffix||"",E({type:"warning",message:s})},x=e=>{if(typeof e=="boolean"){const n=e;return()=>n}else{if(typeof e=="string")return new Function("data",e);if(typeof e=="function")return e}return()=>!0},k=S({name:"VkfFormItemRenderer",props:C,setup(e,n){const s=I(T,null),a=e.templateInstances??s??_({});i(g,a),i(T,a);const p=k,f=(u,b=[])=>u.reduce((l,t,v)=>{const r=[...e.k,...b,v],y=()=>{h(()=>{t.templateType&&!a[t.templateType]&&console.warn(t.templateType,"templateType不存在将跳过")})};if(t.templateType&&a[t.templateType]){const o={...t};Reflect.deleteProperty(o,"templateType"),Reflect.deleteProperty(o,"templateSlots"),Reflect.deleteProperty(o,"templateIf");const d=a[t.templateType].slots.default?.({data:o,raw:t,Renderer:p,k:r,key:r.join(",")+"-"+t.templateType+"-"+t?.prop||"no-prop",templateIf:x(t.templateIf)});d&&l.push(d)}else if(t.templateSlots?.default){if(y(),r.push("templateSlots","default"),Array.isArray(t.templateSlots?.default)){const o=f(t.templateSlots.default,r);l=l.concat(o)}}else y();return l},[]);return()=>[n.slots.default?.(),f(e.source)]}}),m=k;m.install=e=>{e.component(m.name,m)};const P={type:{type:String,required:!0,default:""}},c=S({name:"VkfFormItemRendererTemplate",props:P,setup(e){const n=I(g);if(!n)throw new Error;const s=F(),a=n[e.type];return s&&n&&(n[e.type]=s),A(()=>{n[e.type]=a}),()=>null}});c.install=e=>{e.component(c.name,c)};export{g as S,m as _,c as a,x as g,T as p,j as v};
