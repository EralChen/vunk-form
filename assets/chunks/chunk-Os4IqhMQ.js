import{p as B,t as w,v as U,V as b,c as g,w as C,x as F,u as I}from"./chunk-UADQAoLm.js";import{d as $,aw as _,ax as j,r as E,ay as O,c as M,H,x as K,M as R,q as m,o as n,a as i,w as f,m as P,U as q,a1 as z,f as A,F as D,G as h,a2 as G,I as L,W as N,X as T,Y as W}from"./chunk-DxfIC8xT.js";const X={...B,...w,options:{type:Array,default:()=>[]},selectSlots:{type:Object,default:void 0},optionsUrl:{type:String,default:""},defaultModelValue:null},Y={...U},J=$({name:"VkfSelect",components:{VkfFormItem:b,ElSelect:_,ElOption:j},props:X,emits:Y,setup(e,{emit:r}){const y=g(e),c=C(e,["disabled","modelValue"]),k=F(r),V=I(e),o=E([]),u=t=>{t?fetch(t).then(s=>s.json()).then(s=>{o.value=s}):o.value=[]};e.optionsUrl&&u(e.optionsUrl),O(()=>e.optionsUrl,t=>{r("update:modelValue",void 0),u(t)});const p=t=>K(t.value)?t.value[c.value.valueKey]:t.value,a=M(()=>(o.value.length?o.value:e.options).reduce((s,S)=>{const d=p(S);return!d&&d!==0&&d!==!1||s.push({...S,key:d}),s},[])),l=E(!0);return O(()=>c.value.multiple,()=>{r("update:modelValue",void 0),l.value=!1,H(()=>{l.value=!0})}),{formItemBindProps:y,selectBindProps:c,selectOnEmits:k,selectOptions:a,reshow:l,readonly:V}}});function Q(e,r,y,c,k,V){const o=m("ElOption"),u=m("ElSelect"),p=m("VkfFormItem");return n(),i(p,T(W(e.formItemBindProps)),{default:f(()=>[e.reshow?(n(),i(u,P({key:0},e.selectBindProps,{"model-value":e.defaultModelValue??e.modelValue,disabled:e.readonly||e.disabled,class:{"is-readonly":e.readonly}},q(e.selectOnEmits)),z({default:f(()=>[(n(!0),A(D,null,h(e.selectOptions,a=>(n(),i(o,P({ref_for:!0},a,{key:a.key}),null,16))),128))]),_:2},[h(e.selectSlots,(a,l)=>({name:l,fn:f(t=>[(n(),i(G(a?.(t))))])}))]),1040,["model-value","disabled","class"])):L("",!0),N(e.$slots,"default")]),_:3},16)}const v=R(J,[["render",Q]]);v.install=e=>{e.component(v.name,v)};export{v as V};
