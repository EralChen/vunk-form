import{p as u,e as c,V as f,c as m,a as y}from"./chunk-wXzftp25.js";import{d as k,c as g,x as b,D as n,ad as h,aI as V,s as v,M as E,f as I,o as i,g as S,b as B,a as $,m as U,W as A,I as C}from"./chunk-DkhztfFA.js";import{u as P}from"./chunk-CjzDLHuf.js";const w={...u,type:{type:String,default:"textarea"},rows:{type:Number,default:4},label:{type:String,default:"回填地址"},placeholder:{type:String,default:"上传文件后, 将文件下载地址粘贴到此处"},readonly:{type:Boolean,default:void 0},uploadUrl:{type:String,default:"https://pan.baidu.com/disk/main#/index?category=all"},referenceUrl:{type:String,default:"https://pan.baidu.com/disk/main#/index?category=all"},referenceOnly:{type:Boolean,default:!1},referenceLabel:{type:String,default:"参考地址"},modelValue:{type:String,default:""}},L={...c},O=k({name:"VkfInputLink",components:{VkfInput:f},props:w,emits:L,setup(e,{emit:l}){const s=m(e),o=y(l),p=P(e),d=t=>()=>n(v,{onClick:()=>window.open(t),disabled:!t},()=>n(h,{class:"vkf-input-link-icon",size:16},()=>n(V))),a=g(()=>{const t=[{pattern:/^(http|https):\/\/([\w.]+\/?)\S*$/,message:"请输入正确的链接地址"}];return Array.isArray(e.rules)&&t.push(...e.rules),b(e.rules)&&t.push(e.rules),t});return{coreProps:s,coreEmits:o,createAppendEl:d,rules:a,readonly:p}}}),N={class:"vkf-form-item vkf-input-link"};function j(e,l,s,o,p,d){const a=I("VkfInput");return i(),S("div",N,[B(a,{label:e.referenceLabel,disabled:!0,"model-value":e.referenceUrl??e.uploadUrl,"input-slots":{append:e.createAppendEl(e.referenceUrl??e.uploadUrl)}},null,8,["label","model-value","input-slots"]),e.referenceOnly?C("",!0):(i(),$(a,U({key:0},e.coreProps,{rules:e.rules,readonly:e.readonly,type:e.readonly?"text":e.type,"input-slots":{append:e.readonly?e.createAppendEl(e.modelValue):void 0}},A(e.coreEmits)),null,16,["rules","readonly","type","input-slots"]))])}const r=E(O,[["render",j]]);r.install=e=>{e.component(r.name,r)};export{r as V};
